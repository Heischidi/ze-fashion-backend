<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Search - Zë Luxury Fashion</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css" />
</head>

<body class="font-sans">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 glass-nav">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="text-3xl font-serif font-bold tracking-wider">Zë</div>

                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="nav-link text-gray-800 hover:text-black font-medium">Home</a>
                    <a href="men.html" class="nav-link text-gray-800 hover:text-black font-medium">Men</a>
                    <a href="women.html" class="nav-link text-gray-800 hover:text-black font-medium">Women</a>
                    <a href="kids.html" class="nav-link text-gray-800 hover:text-black font-medium">Kids</a>
                    <a href="collections.html"
                        class="nav-link text-gray-800 hover:text-black font-medium">Collections</a>
                    <a href="about.html" class="nav-link text-gray-800 hover:text-black font-medium">About</a>
                    <a href="lookbook.html" class="nav-link text-gray-800 hover:text-black font-medium">Lookbook</a>
                    <a href="contact.html" class="nav-link text-gray-800 hover:text-black font-medium">Contact</a>
                </div>

                <!-- Shopping & Menu Icons -->
                <div class="flex items-center space-x-4">
                    <a href="search.html" class="hidden md:block hover:scale-110 transition-transform" title="Search">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </a>
                    <a href="cart.html" class="hidden md:block hover:scale-110 transition-transform" title="View Cart">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m0 0h8m-8 0a2 2 0 100 4 2 2 0 000-4zm8 0a2 2 0 100 4 2 2 0 000-4z">
                            </path>
                        </svg>
                        <span
                            class="cart-count hidden absolute -top-1 -right-1 bg-gold text-white text-xs rounded-full w-4 h-4 flex items-center justify-center">0</span>
                    </a>
                    <a href="signin.html" class="hidden md:block hover:scale-110 transition-transform" title="Sign In">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                    </a>
                    <button id="mobileMenuBtn" class="md:hidden">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                        Search
                        </h1>
                        <div class="max-w-2xl mx-auto relative">
                            <input type="text" id="mainSearchInput" placeholder="Search for products..."
                                class="w-full px-6 py-4 text-lg text-black rounded-lg focus:outline-none focus:ring-2 focus:ring-gold"
                                autofocus autocomplete="off">
                            <button id="mainSearchBtn"
                                class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-black p-2">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                </svg>
                            </button>
                            <!-- Autocomplete Dropdown -->
                            <div id="autocompleteDropdown"
                                class="absolute w-full bg-white mt-2 rounded-lg shadow-xl z-50 hidden max-h-60 overflow-y-auto">
                            </div>
                        </div>
                </div>
                <div class="max-w-7xl mx-auto">
                    <div id="searchResultsGrid" class="grid md:grid-cols-3 lg:grid-cols-4 gap-8">
                        <!-- Results will appear here -->
                        <p class="col-span-full text-center text-gray-500">Start typing to search...</p>
                    </div>
                </div>
                </section>

                <!-- Footer -->
                <footer class="bg-black text-white py-16 px-6 border-t border-white/10">
                    <div class="max-w-6xl mx-auto">
                        <div class="grid md:grid-cols-4 gap-8 mb-12">
                            <div>
                                <div class="text-3xl font-serif font-bold mb-6 tracking-wider">NOIR</div>
                                <p class="leading-relaxed text-muted">Timeless elegance meets contemporary design in
                                    every piece we create.</p>
                            </div>

                            <div>
                                <h4 class="font-serif text-lg mb-4">Customer Care</h4>
                                <div class="space-y-2 text-muted">
                                    <div class="hover:text-white cursor-pointer transition-colors">Order Status</div>
                                    <div class="hover:text-white cursor-pointer transition-colors">Shipping & Returns
                                    </div>
                                    <div class="hover:text-white cursor-pointer transition-colors">Size Guide</div>
                                    <div class="hover:text-white cursor-pointer transition-colors">Contact Us</div>
                                </div>
                            </div>

                            <div>
                                <h4 class="font-serif text-lg mb-4">Shopping</h4>
                                <div class="space-y-2 text-muted">
                                    <div class="hover:text-white cursor-pointer transition-colors">New Arrivals</div>
                                    <div class="hover:text-white cursor-pointer transition-colors">Best Sellers</div>
                                    <div class="hover:text-white cursor-pointer transition-colors">Sale Items</div>
                                    <div class="hover:text-white cursor-pointer transition-colors">Gift Cards</div>
                                </div>
                            </div>
                </footer>

                <script src="script.js"></script>
                <script>
                    const products = [
                        { id: 1, title: "Silk Midi Dress", price: 65000, category: "Dresses", image: "images/silk-midi-dress.jpg" },
                        { id: 2, title: "Leather Handbag", price: 89000, category: "Bags", image: "images/leather-handbag.jpg" },
                        { id: 3, title: "Cashmere Sweater", price: 42000, category: "Tops", image: "images/cashmere-sweater.jpg" },
                        { id: 4, title: "Pearl Necklace", price: 32000, category: "Accessories", image: "images/pearl-necklace.jpg" },
                        { id: 5, title: "Silk Blouse", price: 38000, category: "Tops", image: "images/silk-blouse.jpg" },
                        { id: 6, title: "Evening Gown", price: 120000, category: "Dresses", image: "images/evening-gown.jpg" },
                        { id: 7, title: "Designer Heels", price: 65000, category: "Shoes", image: "images/designer-heels.jpg" },
                        { id: 8, title: "Wool Coat", price: 98000, category: "Outerwear", image: "images/wool-coat.jpg" }
                    ];

                    const searchInput = document.getElementById('mainSearchInput');
                    const resultsGrid = document.getElementById('searchResultsGrid');
                    const autocompleteDropdown = document.getElementById('autocompleteDropdown');

                    function performSearch(query) {
                        if (!query) {
                            resultsGrid.innerHTML = '<p class="col-span-full text-center text-gray-500">Start typing to search...</p>';
                            return;
                        }

                        const filtered = products.filter(p =>
                            p.title.toLowerCase().includes(query.toLowerCase()) ||
                            p.category.toLowerCase().includes(query.toLowerCase())
                        );

                        if (filtered.length === 0) {
                            resultsGrid.innerHTML = '<p class="col-span-full text-center text-gray-500">No results found.</p>';
                            return;
                        }

                        resultsGrid.innerHTML = filtered.map(p => `
        <div class="product-card group cursor-pointer" onclick="window.location.href='product.html?id=${p.id}'">
          <div class="h-80 bg-gray-100 mb-4 overflow-hidden relative">
            <img src="${p.image}" onerror="this.src='/images/placeholder.png'" alt="${p.title}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105">
            <button onclick="event.stopPropagation(); addToCart(${p.id}, '${p.title.replace(/'/g, "\\'")}', '${p.image}', ${p.price})" class="absolute bottom-4 right-4 bg-white text-black px-4 py-2 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0 hover:bg-black hover:text-white">
              Add to Cart
            </button>
          </div>
          <h3 class="text-lg font-serif group-hover:text-gold transition-colors">${p.title}</h3>
          <p class="text-gray-500">₦${(p.price).toLocaleString()}</p>
        </div>
      `).join('');
                    }

                    function updateAutocomplete(query) {
                        if (!query) {
                            autocompleteDropdown.classList.add('hidden');
                            return;
                        }

                        const matches = products.filter(p => p.title.toLowerCase().includes(query.toLowerCase())).slice(0, 5);

                        if (matches.length === 0) {
                            autocompleteDropdown.classList.add('hidden');
                            return;
                        }

                        autocompleteDropdown.innerHTML = matches.map(p => `
                <div class="px-4 py-3 hover:bg-gray-50 cursor-pointer flex items-center gap-3 border-b last:border-0" onclick="window.location.href='product.html?id=${p.id}'">
                    <img src="${p.image}" class="w-10 h-10 object-cover rounded">
                    <div>
                        <div class="font-medium text-sm text-black">${p.title}</div>
                        <div class="text-xs text-gray-500">₦${(p.price).toLocaleString()}</div>
                    </div>
                </div>
            `).join('');
                        autocompleteDropdown.classList.remove('hidden');
                    }

                    function setSearch(term) {
                        if (searchInput) {
                            searchInput.value = term;
                            performSearch(term);
                            autocompleteDropdown.classList.add('hidden');
                        }
                    }

                    if (searchInput) {
                        searchInput.addEventListener('input', (e) => {
                            performSearch(e.target.value);
                            updateAutocomplete(e.target.value);
                        });

                        // Close autocomplete when clicking outside
                        document.addEventListener('click', (e) => {
                            if (!searchInput.contains(e.target) && !autocompleteDropdown.contains(e.target)) {
                                autocompleteDropdown.classList.add('hidden');
                            }
                        });
                    }
                </script>
</body>

</html>